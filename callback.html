<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PrivaReceipt</title>
  <style>
    * {margin:0;padding:0;box-sizing:border-box;}
    body{
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
      min-height:100vh;display:flex;align-items:center;justify-content:center;
      background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
    }
    .card{
      background:#fff;border-radius:24px;padding:48px;text-align:center;
      box-shadow:0 25px 50px -12px rgba(0,0,0,.25);max-width:400px;margin:20px;
    }
    .icon{
      width:80px;height:80px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
      border-radius:20px;display:flex;align-items:center;justify-content:center;
      margin:0 auto 24px;animation:pulse 2s infinite;
    }
    .icon svg{width:40px;height:40px;fill:#fff;}
    @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
    .spinner{
      width:24px;height:24px;border:3px solid #e5e7eb;border-top-color:#667eea;
      border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 16px;
    }
    @keyframes spin{to{transform:rotate(360deg)}}
    h1{font-size:24px;color:#1f2937;margin-bottom:8px;}
    p{color:#6b7280;margin-bottom:24px;}
    .btn{
      display:inline-block;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
      color:#fff;padding:14px 32px;border-radius:12px;text-decoration:none;font-weight:600;
      transition:transform .2s,box-shadow .2s;
    }
    .btn:hover{transform:translateY(-2px);box-shadow:0 10px 20px rgba(102,126,234,.3);}
    .footer{margin-top:32px;font-size:12px;color:#9ca3af;}
  </style>
</head>
<body>
  <div class="card">
    <div class="icon">
      <svg viewBox="0 0 24 24"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
    </div>
    <div class="spinner"></div>
    <h1>Opening PrivaReceipt…</h1>
    <p>You’re being redirected to the app</p>
    <a id="manual" class="btn" href="#">Open App Manually</a>
    <div class="footer">Secure connection to Xero completed</div>
  </div>

  <script>
    const appUrl = "privareceipt://xero-callback" + window.location.search + window.location.hash;
    const manualLink = document.getElementById("manual");
    manualLink.href = appUrl;
    function tryRedirect(){
      window.location.replace(appUrl);
    }
    setTimeout(tryRedirect, 800);
  </script>
</body>
</html>
